---
document_id: MEMINIT-ADR-004
type: ADR
title: Use immutable REPO-TYPE-SEQ document IDs
status: Draft
version: 0.1
last_updated: 2025-12-15
owner: GitCmurf
docops_version: 2.0
---

<!-- MEMINIT_METADATA_BLOCK -->

> **Document ID:** MEMINIT-ADR-004
> **Owner:** GitCmurf
> **Status:** Draft
> **Version:** 0.1
> **Last Updated:** 2025-12-15
> **Type:** ADR

# MEMINIT-ADR-004: Use immutable REPO-TYPE-SEQ document IDs

- **Date decided:** 2025-12-14
- **Deciders:** Repo maintainers
- **Status:** Draft

## 1. Context & Problem Statement

Documents move and filenames evolve. We need a stable identifier for referencing, indexing, and long-term governance.

## 2. Decision Drivers

- Stability across renames and moves.
- Easy human scanning and machine validation.
- Repo-local uniqueness without embedding mutable attributes (like “area”) in the ID.

## 3. Options Considered

- **REPO-TYPE-SEQ in frontmatter**
  - Pros: stable; schema-enforceable; works across repo structure changes.
  - Cons: requires index/link tooling for convenient navigation (future work).
- **Filename-derived identity**
  - Pros: no separate identifier field.
  - Cons: breaks on rename; hard to track history and references.

## 4. Decision Outcome

- **Chosen option:** `REPO-TYPE-SEQ` (e.g., `MEMINIT-ADR-001`, `MEMINIT-STRAT-001`) stored as `document_id` in YAML frontmatter.
- **Scope/Applicability:** All governed documents validated by `meminit check`.

## 5. Consequences

- Positive: strong invariants for governance and agent tooling.
- Negative: requires disciplined handling to avoid changing IDs after creation.

## 6. Implementation Notes

- ID format validator: `src/meminit/core/services/validators.py` (`IdValidator`)
- New document IDs generated by: `src/meminit/core/use_cases/new_document.py` using `repo_prefix` from `docops.config.yaml`.

## 7. Validation & Compliance

- Tests cover regex validation, uniqueness checks, and ID generation.

## 8. Alternatives Rejected

- Filename-only identity: rejected due to mutability.

## 9. Supersession

- Supersedes: none
- Superseded by: none

## 10. Notes for Agents

- Keywords: immutable ID, `document_id`, `repo_prefix`
- Code anchors: `src/meminit/core/services/validators.py`, `src/meminit/core/use_cases/new_document.py`
